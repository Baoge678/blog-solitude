# 🎵 音乐播放器功能说明

## ✨ **新增功能**

### 🎯 **播放模式**
播放器现在支持三种播放模式：

1. **🔁 列表循环** (默认)
   - 按顺序播放所有歌曲
   - 播放完最后一首后自动回到第一首

2. **🔂 单曲循环**
   - 重复播放当前歌曲
   - 适合单曲循环欣赏

3. **🔀 随机播放**
   - 随机选择下一首歌曲
   - 避免重复播放同一首歌曲

### 📋 **播放列表**
- **展开/收起**：点击播放列表按钮可以展开或收起播放列表
- **歌曲选择**：点击播放列表中的任意歌曲可以直接播放
- **当前播放高亮**：正在播放的歌曲会在列表中高亮显示
- **歌曲信息**：显示歌曲序号、标题和歌手信息

## 🎮 **操作说明**

### 播放控制
- **播放/暂停**：点击播放按钮或音乐胶囊
- **上一首**：点击上一首按钮
- **下一首**：点击下一首按钮

### 播放模式切换
- **切换模式**：点击播放模式按钮循环切换
  - 🔁 → 🔂 → 🔀 → 🔁

### 播放列表操作
- **展开列表**：点击播放列表按钮
- **选择歌曲**：点击列表中的任意歌曲
- **收起列表**：再次点击播放列表按钮

## 🎨 **界面特色**

### 现代化设计
- **毛玻璃效果**：播放器采用毛玻璃背景
- **圆角设计**：现代化的圆角界面
- **阴影效果**：立体感的阴影设计

### 响应式布局
- **桌面端**：完整功能显示
- **移动端**：适配小屏幕设备

### 动画效果
- **悬停动画**：鼠标悬停时的平滑动画
- **播放动画**：播放时的旋转动画
- **过渡效果**：所有交互都有平滑过渡

## ⚙️ **配置说明**

### 当前配置
```yaml
capsule:
  enable: true
  server: local
  type: song
  volume: 0.6
  custom_list:
    - name: 高山槐花开
      artist: 凤凰传奇
      url: https://flaredrive.baoge.wang/webdav/mp3/凤凰传奇-高山槐花开.mp3
    - name: 最炫民族风
      artist: 凤凰传奇
      url: https://flaredrive.baoge.wang/webdav/mp3/凤凰传奇-最炫民族风.mp3
    - name: 荷塘月色
      artist: 凤凰传奇
      url: https://flaredrive.baoge.wang/webdav/mp3/凤凰传奇-荷塘月色.mp3
```

### 添加更多歌曲
在 `themes/solitude/_config.yml` 中的 `custom_list` 部分添加：

```yaml
- name: 歌曲名称
  artist: 歌手名称
  url: 歌曲文件链接
```

## 🔧 **技术特性**

### 错误处理
- **自动重试**：播放失败时自动重试3次
- **智能切换**：重试失败后自动切换到下一首
- **错误日志**：控制台输出详细的错误信息

### 性能优化
- **懒加载**：音频文件按需加载
- **缓存机制**：避免重复加载相同文件
- **内存管理**：及时释放不需要的资源

### 兼容性
- **现代浏览器**：支持 Chrome、Firefox、Safari、Edge
- **移动设备**：支持 iOS Safari、Android Chrome
- **WebDAV 支持**：支持各种网盘和云存储服务

## 🎯 **使用建议**

### 最佳实践
1. **使用稳定的链接**：确保音乐文件链接稳定可访问
2. **合理设置音量**：建议音量设置在 0.3-0.7 之间
3. **定期更新歌单**：保持歌单的新鲜感

### 故障排除
1. **播放失败**：检查网络连接和文件链接
2. **显示异常**：清除浏览器缓存后重试
3. **功能异常**：检查浏览器控制台错误信息

## 🚀 **未来计划**

- [ ] 播放进度条控制
- [ ] 音量调节滑块
- [ ] 歌词显示功能
- [ ] 播放历史记录
- [ ] 收藏功能
- [ ] 更多播放模式

---

**享受您的音乐时光！** 🎵✨ 